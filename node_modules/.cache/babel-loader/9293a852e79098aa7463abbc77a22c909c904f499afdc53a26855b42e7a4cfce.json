{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\",\n  class: \"h-screen bg-sky-100\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"toast-container\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"menu-whole h-5/6 flex\"\n};\nconst _hoisted_4 = {\n  class: \"field-loader w-1/2 h-full flex flex-col bg-white m-4 p-1 lg:m-12 lg:p-4 shadow-xl\"\n};\nconst _hoisted_5 = {\n  class: \"menu-loaded w-1/2 h-full text-gray-900 bg-blue-500 rounded shadow-xl m-4 p-1 lg:m-12 lg:p-4\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex align-center\"\n}, \" Autres \", -1 /* HOISTED */);\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Composant App \"), _createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Conteneur de notifications (toasts) \"), _hoisted_2, _createCommentVNode(\" Section du menu \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Section d'entrée JSON et chargement \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Zone de saisie JSON \"), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.jsonInput = $event),\n    placeholder: \"Entrez le JSON du menu ici\",\n    class: \"block p-2.5 h-full w-full text-xs lg:text-xl\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.jsonInput]]), _createCommentVNode(\" Bouton pour charger le menu \"), _createElementVNode(\"button\", {\n    class: \"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.loadMenu && $options.loadMenu(...args))\n  }, \" Charger le menu \")]), _createCommentVNode(\" Section du menu chargé \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Affichage des éléments du menu \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getMenuItems(), (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: _normalizeClass({\n        'cursor-pointer flex justify-center': true,\n        'bg-sky-100 top-1/2 flex justify-center': item.type === 'hiddenItem' && !item.isHidden\n      }),\n      key: index\n    }, [_createCommentVNode(\" Rendu dynamique des éléments du menu avec des composants \"), (_openBlock(), _createBlock(_resolveDynamicComponent($options.getComponentName(item)), {\n      label: item.label,\n      permission: item.permission,\n      link: item.link,\n      articleCount: item.component === 'nbArticlesLabel' ? $data.dynamicArticleCount : undefined,\n      onUpdateArticleCount: $options.updateArticleCount,\n      onShowToastOnLinkOpen: $options.showToastOnLinkOpen\n    }, null, 40 /* PROPS, NEED_HYDRATION */, [\"label\", \"permission\", \"link\", \"articleCount\", \"onUpdateArticleCount\", \"onShowToastOnLinkOpen\"]))], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" Bouton pour basculer l'affichage des éléments masqués \"), $data.hiddenItems.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"bg-white hover:bg-sky-100 text-blue text-xs lg:text-lg font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded w-1/6 h-5 lg:w1/4 lg:h-10\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleHiddenItems && $options.toggleHiddenItems(...args))\n  }, [..._hoisted_7])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Composant dynamique \"), $data.dynamicComponent ? (_openBlock(), _createBlock(_resolveDynamicComponent($data.dynamicComponent), {\n    key: 1\n  })) : _createCommentVNode(\"v-if\", true)])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["id","class","_createElementVNode","_hoisted_6","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","jsonInput","$event","placeholder","onClick","_cache","args","$options","loadMenu","_hoisted_5","_createElementBlock","_Fragment","_renderList","getMenuItems","item","index","_normalizeClass","type","isHidden","key","_createBlock","_resolveDynamicComponent","getComponentName","label","permission","link","articleCount","component","dynamicArticleCount","undefined","onUpdateArticleCount","updateArticleCount","onShowToastOnLinkOpen","showToastOnLinkOpen","hiddenItems","length","toggleHiddenItems","dynamicComponent"],"sources":["C:\\Users\\Loris\\Desktop\\Cours\\MMIInformatique\\ProjetExercice\\projet-menu\\src\\App.vue"],"sourcesContent":["<template>\n  <!-- Composant App -->\n  <div id=\"app\" class=\"h-screen bg-sky-100\">\n    <!-- Conteneur de notifications (toasts) -->\n    <div id=\"toast-container\"></div>\n\n    <!-- Section du menu -->\n    <div class=\"menu-whole h-5/6 flex\">\n      <!-- Section d'entrée JSON et chargement -->\n      <div class=\"field-loader w-1/2 h-full flex flex-col bg-white m-4 p-1 lg:m-12 lg:p-4 shadow-xl\">\n        <!-- Zone de saisie JSON -->\n        <textarea\n          v-model=\"jsonInput\"\n          placeholder=\"Entrez le JSON du menu ici\"\n          class=\"block p-2.5 h-full w-full text-xs lg:text-xl\"\n        ></textarea>\n        <!-- Bouton pour charger le menu -->\n        <button\n          class=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\"\n          @click=\"loadMenu\"\n        >\n          Charger le menu\n        </button>\n      </div>\n\n      <!-- Section du menu chargé -->\n      <div class=\"menu-loaded w-1/2 h-full text-gray-900 bg-blue-500 rounded shadow-xl m-4 p-1 lg:m-12 lg:p-4\">\n        <!-- Affichage des éléments du menu -->\n        <div\n          :class=\"{\n            'cursor-pointer flex justify-center': true,\n            'bg-sky-100 top-1/2 flex justify-center': item.type === 'hiddenItem' && !item.isHidden\n          }\"\n          v-for=\"(item, index) in getMenuItems()\"\n          :key=\"index\"\n        >\n          <!-- Rendu dynamique des éléments du menu avec des composants -->\n          <component\n            :is=\"getComponentName(item)\"\n            :label=\"item.label\"\n            :permission=\"item.permission\"\n            :link=\"item.link\"\n            :articleCount=\"item.component === 'nbArticlesLabel' ? dynamicArticleCount : undefined\"\n            @updateArticleCount=\"updateArticleCount\"\n            @showToastOnLinkOpen=\"showToastOnLinkOpen\"\n          />\n        </div>\n\n        <!-- Bouton pour basculer l'affichage des éléments masqués -->\n        <button\n          class=\"bg-white hover:bg-sky-100 text-blue text-xs lg:text-lg font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded w-1/6 h-5 lg:w1/4 lg:h-10\"\n          @click=\"toggleHiddenItems\"\n          v-if=\"hiddenItems.length > 0\"\n        >\n          <div class=\"flex align-center\">\n            Autres\n          </div>\n        </button>\n        <!-- Composant dynamique -->\n        <component :is=\"dynamicComponent\" v-if=\"dynamicComponent\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Importation des composants\nimport nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\n\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem,\n  },\n  data() {\n    // Données du composant\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null,\n    };\n  },\n  methods: {\n    // Méthode pour charger le menu depuis le JSON\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        // Initialisation des éléments masqués et du menu principal\n        this.hiddenItems = parsedJson.hiddenItems.map((item) => ({\n          ...item,\n          type: \"hiddenItem\",\n          isHidden: item.isHidden || false\n        }));\n        this.menuItems = parsedJson.menuItems.map((item) => ({\n          ...item,\n          type: \"menuItem\"\n        }));\n        this.showHiddenItems = false;\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    // Méthode pour basculer l'affichage des éléments masqués\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    // Méthode pour obtenir la liste des éléments du menu à afficher\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      console.log(combinedItems);\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    // Méthode pour mettre à jour le compte d'articles dynamique\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    // Méthode pour afficher une notification lors de l'ouverture d'un lien\n    showToastOnLinkOpen(label, permission) {\n      if (label, permission) {\n        this.showToast(label, permission);\n      } else {\n        console.error('Objet d\\'élément invalide :');\n      }\n    },\n    // Méthode pour afficher une notification\n    showToast(label) {\n      const toastElement = document.createElement(\"div\");\n      toastElement.className =\n        \"toast animate-fadein fixed flex items-center w-full max-w-xs p-4 space-x-4 text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-200 rounded-lg shadow top-5 right-5 dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800\";\n      toastElement.textContent = `Ouverture de la page ${label}`;\n      document.getElementById(\"toast-container\").appendChild(toastElement);\n      setTimeout(() => {\n        toastElement.remove();\n      }, 5000);\n    },\n    // Méthode pour obtenir le nom du composant à partir de l'élément du menu\n    getComponentName(item) {\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel,\n      };\n      return componentMap[item.component] || null;\n    },\n  },\n};\n</script>\n\n<style lang=\"css\">\n  @import '@/assets/styles/tailwind.css';\n</style>\n"],"mappings":";;EAEOA,EAAE,EAAC,KAAK;EAACC,KAAK,EAAC;;gCAElBC,mBAAA,CAAgC;EAA3BF,EAAE,EAAC;AAAiB;;EAGpBC,KAAK,EAAC;AAAuB;;EAE3BA,KAAK,EAAC;AAAmF;;EAiBzFA,KAAK,EAAC;AAA6F;gCA4BpGC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAmB,GAAC,UAE/B;oBAFAE,UAEM,C;;6DAvDdC,mBAAA,mBAAsB,EACtBF,mBAAA,CA4DM,OA5DNG,UA4DM,GA3DJD,mBAAA,yCAA4C,EAC5CE,UAAgC,EAEhCF,mBAAA,qBAAwB,EACxBF,mBAAA,CAsDM,OAtDNK,UAsDM,GArDJH,mBAAA,yCAA4C,EAC5CF,mBAAA,CAcM,OAdNM,UAcM,GAbJJ,mBAAA,yBAA4B,E,gBAC5BF,mBAAA,CAIY;+DAHDO,KAAA,CAAAC,SAAS,GAAAC,MAAA;IAClBC,WAAW,EAAC,4BAA4B;IACxCX,KAAK,EAAC;iDAFGQ,KAAA,CAAAC,SAAS,E,GAIpBN,mBAAA,iCAAoC,EACpCF,mBAAA,CAKS;IAJPD,KAAK,EAAC,uHAAuH;IAC5HY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;KACjB,mBAED,E,GAGFX,mBAAA,4BAA+B,EAC/BF,mBAAA,CAkCM,OAlCNgB,UAkCM,GAjCJd,mBAAA,oCAAuC,G,kBACvCe,mBAAA,CAkBMC,SAAA,QAAAC,WAAA,CAboBL,QAAA,CAAAM,YAAY,KAA5BC,IAAI,EAAEC,KAAK;yBALrBL,mBAAA,CAkBM;MAjBHlB,KAAK,EAAAwB,eAAA;;kDAAkHF,IAAI,CAACG,IAAI,sBAAsBH,IAAI,CAACI;;MAK3JC,GAAG,EAAEJ;QAENpB,mBAAA,8DAAiE,G,cACjEyB,YAAA,CAQEC,wBAAA,CAPKd,QAAA,CAAAe,gBAAgB,CAACR,IAAI;MACzBS,KAAK,EAAET,IAAI,CAACS,KAAK;MACjBC,UAAU,EAAEV,IAAI,CAACU,UAAU;MAC3BC,IAAI,EAAEX,IAAI,CAACW,IAAI;MACfC,YAAY,EAAEZ,IAAI,CAACa,SAAS,yBAAyB3B,KAAA,CAAA4B,mBAAmB,GAAGC,SAAS;MACpFC,oBAAkB,EAAEvB,QAAA,CAAAwB,kBAAkB;MACtCC,qBAAmB,EAAEzB,QAAA,CAAA0B;;kCAI1BtC,mBAAA,2DAA8D,EAItDK,KAAA,CAAAkC,WAAW,CAACC,MAAM,Q,cAH1BzB,mBAAA,CAQS;;IAPPlB,KAAK,EAAC,+JAA+J;IACpKY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA6B,iBAAA,IAAA7B,QAAA,CAAA6B,iBAAA,IAAA9B,IAAA,CAAiB;4DAO3BX,mBAAA,yBAA4B,EACYK,KAAA,CAAAqC,gBAAgB,I,cAAxDjB,YAAA,CAA4DC,wBAAA,CAA5CrB,KAAA,CAAAqC,gBAAgB;IAAAlB,GAAA;EAAA,M"},"metadata":{},"sourceType":"module","externalDependencies":[]}