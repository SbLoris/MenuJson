{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"toast-container\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"toast-success\",\n  class: \"flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\",\n  role: \"alert\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"w-5 h-5\",\n  \"aria-hidden\": \"true\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"currentColor\",\n  viewBox: \"0 0 20 20\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z\"\n})]), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sr-only\"\n}, \"Check icon\")]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"ms-3 text-sm font-normal\"\n}, \"Item moved successfully.\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\",\n  \"data-dismiss-target\": \"#toast-success\",\n  \"aria-label\": \"Close\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"sr-only\"\n}, \"Close\"), /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"w-3 h-3\",\n  \"aria-hidden\": \"true\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 14 14\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  stroke: \"currentColor\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  \"stroke-width\": \"2\",\n  d: \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\n})])])])], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"menu-whole\"\n};\nconst _hoisted_4 = {\n  class: \"field-loader\"\n};\nconst _hoisted_5 = {\n  class: \"menu-loaded bg-blue-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.jsonInput = $event),\n    placeholder: \"Entrez le JSON du menu ici\",\n    class: \"resize rounded-md\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.jsonInput]]), _createElementVNode(\"button\", {\n    class: \"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.loadMenu && $options.loadMenu(...args))\n  }, \"Charger le menu\")]), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getMenuItems(), (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent($options.getComponentName(item)), {\n      label: item.label,\n      permission: item.permission,\n      link: item.link,\n      articleCount: item.component === 'nbArticlesLabel' ? $data.dynamicArticleCount : undefined,\n      onUpdateArticleCount: $options.updateArticleCount,\n      onShowToastOnLinkOpen: $options.showToastOnLinkOpen\n    }, null, 40 /* PROPS, NEED_HYDRATION */, [\"label\", \"permission\", \"link\", \"articleCount\", \"onUpdateArticleCount\", \"onShowToastOnLinkOpen\"]))]);\n  }), 128 /* KEYED_FRAGMENT */)), $data.hiddenItems.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleHiddenItems && $options.toggleHiddenItems(...args))\n  }, \"Other\")) : _createCommentVNode(\"v-if\", true), $data.dynamicComponent ? (_openBlock(), _createBlock(_resolveDynamicComponent($data.dynamicComponent), {\n    key: 1\n  })) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["id","_createElementVNode","class","role","xmlns","fill","viewBox","d","type","stroke","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","jsonInput","$event","placeholder","onClick","_cache","args","$options","loadMenu","_hoisted_5","_Fragment","_renderList","getMenuItems","item","index","key","_createBlock","_resolveDynamicComponent","getComponentName","label","permission","link","articleCount","component","dynamicArticleCount","undefined","onUpdateArticleCount","updateArticleCount","onShowToastOnLinkOpen","showToastOnLinkOpen","hiddenItems","length","toggleHiddenItems","dynamicComponent"],"sources":["C:\\Users\\Loris\\Desktop\\Cours\\MMIInformatique\\ProjetExercice\\projet-menu\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"toast-container\">\n      <div id=\"toast-success\" class=\"flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800\" role=\"alert\">\n    <div class=\"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200\">\n        <svg class=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path d=\"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z\"/>\n        </svg>\n        <span class=\"sr-only\">Check icon</span>\n    </div>\n    <div class=\"ms-3 text-sm font-normal\">Item moved successfully.</div>\n    <button type=\"button\" class=\"ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700\" data-dismiss-target=\"#toast-success\" aria-label=\"Close\">\n        <span class=\"sr-only\">Close</span>\n        <svg class=\"w-3 h-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 14\">\n            <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"/>\n        </svg>\n    </button>\n</div>\n    </div>\n    <div class=\"menu-whole\">\n      <div class=\"field-loader\">\n        <textarea  v-model=\"jsonInput\" placeholder=\"Entrez le JSON du menu ici\" class=\"resize rounded-md\"></textarea>\n        <button class=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\"  @click=\"loadMenu\">Charger le menu</button>\n      </div>\n      <div class=\"menu-loaded bg-blue-500\">\n        <div v-for=\"(item, index) in getMenuItems()\" :key=\"index\">\n          <component\n            :is=\"getComponentName(item)\"\n            :label=\"item.label\"\n            :permission=\"item.permission\"\n            :link=\"item.link\"\n            :articleCount=\"item.component === 'nbArticlesLabel' ? dynamicArticleCount : undefined\"\n            @updateArticleCount=\"updateArticleCount\"\n            @showToastOnLinkOpen=\"showToastOnLinkOpen\"\n          />\n        </div>\n        <button @click=\"toggleHiddenItems\" v-if=\"hiddenItems.length > 0\">Other</button>\n        <component :is=\"dynamicComponent\" v-if=\"dynamicComponent\" />\n      </div>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\n\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem,\n  },\n  data() {\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null,\n    };\n  },\n  methods: {\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        this.menuItems = parsedJson.menuItems.map((item) => ({ ...item, type: \"menuItem\" }));\n        this.hiddenItems = parsedJson.hiddenItems.map((item) => ({ ...item, type: \"hiddenItem\" }));\n        this.showHiddenItems = false;\n        \n\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    showToastOnLinkOpen(message) {\n      this.showToast(message);\n    },\n    showToast(message) {\n \n    const toastElement = document.createElement(\"div\");\n    toastElement.className = \"toast\";\n    toastElement.textContent = `Ouverture de la page ${message}`;\n    \n   \n    this.$emit(\"showToastOnLinkOpen\", `Ouverture de la page ${message}`);\n\n    document.getElementById(\"toast-container\").appendChild(toastElement);\n\n    setTimeout(() => {\n      toastElement.remove();\n    }, 5000);\n  \n},\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel,\n      };\n      return componentMap[item.component] || null;\n    },\n  },\n};\n</script>\n<style lang=\"css\">\n  @import '@/assets/styles/tailwind.css';\n  \n</style>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}