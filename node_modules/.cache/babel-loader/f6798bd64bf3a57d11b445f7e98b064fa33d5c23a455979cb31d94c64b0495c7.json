{"ast":null,"code":"import nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem\n  },\n  data() {\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null\n    };\n  },\n  methods: {\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        this.menuItems = parsedJson.menuItems.map(item => ({\n          ...item,\n          type: \"menuItem\"\n        }));\n        this.hiddenItems = parsedJson.hiddenItems.map(item => ({\n          ...item,\n          type: \"hiddenItem\"\n        }));\n        this.showHiddenItems = false;\n        if (parsedJson.permission !== undefined) {\n          this.permission = parsedJson.permission;\n          // Mettez à jour la propriété 'permission' de chaque item\n          this.menuItems.forEach(item => {\n            item.permission = parsedJson.permission;\n          });\n        }\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    showToastOnLinkOpen(message, permission) {\n      this.showToast(message, permission);\n    },\n    showToast(message, permission) {\n      if (permission) {\n        const toastElement = document.createElement(\"div\");\n        toastElement.className = \"toast\";\n        toastElement.textContent = `Ouverture de la page ${message}`;\n\n        // Emit the showToastOnLinkOpen event with the toast message and permission\n        this.$emit(\"showToastOnLinkOpen\", `Ouverture de la page ${message}`);\n        document.getElementById(\"toast-container\").appendChild(toastElement);\n        setTimeout(() => {\n          toastElement.remove();\n        }, 5000);\n      }\n    },\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel\n      };\n      return componentMap[item.component] || null;\n    }\n  }\n};","map":{"version":3,"names":["nbArticlesLabel","nbArticlesField","homeMenuItem","page1MenuItem","page4MenuItem","page5MenuItem","components","data","dynamicArticleCount","jsonInput","menuItems","hiddenItems","showHiddenItems","dynamicComponent","methods","loadMenu","parsedJson","JSON","parse","map","item","type","permission","undefined","forEach","error","console","toggleHiddenItems","getMenuItems","combinedItems","updateArticleCount","value","showToastOnLinkOpen","message","showToast","toastElement","document","createElement","className","textContent","$emit","getElementById","appendChild","setTimeout","remove","getComponentName","componentMap","component"],"sources":["C:\\Users\\Loris\\Desktop\\Cours\\MMIInformatique\\ProjetExercice\\projet-menu\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"toast-container\"></div>\n    <div class=\"menu-whole\">\n      <div class=\"field-loader\">\n        <textarea  v-model=\"jsonInput\" placeholder=\"Entrez le JSON du menu ici\"></textarea>\n        <button  @click=\"loadMenu\">Charger le menu</button>\n      </div>\n      <div class=\"menu-loaded bg-blue-500\">\n        <div v-for=\"(item, index) in getMenuItems()\" :key=\"index\">\n          <component\n            :is=\"getComponentName(item)\"\n            :label=\"item.label\"\n            :permission=\"item.permission\"\n            :link=\"item.link\"\n            :articleCount=\"item.component === 'nbArticlesLabel' ? dynamicArticleCount : undefined\"\n            @updateArticleCount=\"updateArticleCount\"\n            @showToastOnLinkOpen=\"showToastOnLinkOpen\"\n          />\n        </div>\n        <button @click=\"toggleHiddenItems\" v-if=\"hiddenItems.length > 0\">Other</button>\n        <component :is=\"dynamicComponent\" v-if=\"dynamicComponent\" />\n      </div>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\n\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem,\n  },\n  data() {\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null,\n    };\n  },\n  methods: {\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        this.menuItems = parsedJson.menuItems.map((item) => ({ ...item, type: \"menuItem\" }));\n        this.hiddenItems = parsedJson.hiddenItems.map((item) => ({ ...item, type: \"hiddenItem\" }));\n        this.showHiddenItems = false;\n        if (parsedJson.permission !== undefined) {\n        this.permission = parsedJson.permission;\n        // Mettez à jour la propriété 'permission' de chaque item\n        this.menuItems.forEach((item) => {\n          item.permission = parsedJson.permission;\n        });\n      }\n\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    showToastOnLinkOpen(message, permission) {\n      this.showToast(message, permission);\n    },\n    showToast(message, permission) {\n  if (permission) {\n    const toastElement = document.createElement(\"div\");\n    toastElement.className = \"toast\";\n    toastElement.textContent = `Ouverture de la page ${message}`;\n    \n    // Emit the showToastOnLinkOpen event with the toast message and permission\n    this.$emit(\"showToastOnLinkOpen\", `Ouverture de la page ${message}`);\n\n    document.getElementById(\"toast-container\").appendChild(toastElement);\n\n    setTimeout(() => {\n      toastElement.remove();\n    }, 5000);\n  }\n},\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel,\n      };\n      return componentMap[item.component] || null;\n    },\n  },\n};\n</script>\n<style lang=\"css\" src=\"@/styles/tailwind.css\">\n\n\n/* Ajoutez des styles pour le toast si nécessaire */\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}