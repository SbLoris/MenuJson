{"ast":null,"code":"import nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem\n  },\n  data() {\n    return {\n      articleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null\n    };\n  },\n  methods: {\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        this.menuItems = parsedJson.menuItems.map(item => ({\n          ...item,\n          type: 'menuItem'\n        }));\n\n        // Filter out items that are already in menuItems\n        this.hiddenItems = parsedJson.hiddenItems.filter(item => !this.menuItems.some(menuItem => menuItem.label === item.label)).map(item => ({\n          ...item,\n          type: 'hiddenItem'\n        }));\n        this.showHiddenItems = false;\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel\n      };\n      return componentMap[item.component] || null;\n    }\n  }\n};","map":{"version":3,"names":["nbArticlesLabel","nbArticlesField","homeMenuItem","page1MenuItem","page4MenuItem","page5MenuItem","components","data","articleCount","jsonInput","menuItems","hiddenItems","showHiddenItems","dynamicComponent","methods","loadMenu","parsedJson","JSON","parse","map","item","type","filter","some","menuItem","label","error","console","toggleHiddenItems","getMenuItems","combinedItems","getComponentName","componentMap","component"],"sources":["C:\\Users\\Loris\\Desktop\\Cours\\MMIInformatique\\ProjetExercice\\projet-menu\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n   <nb-articles-field v-model=\"articleCount\" @update:articleCount=\"updateArticleCount\" />\n    <nb-articles-label :articleCount=\"articleCount\" />\n\n\n    <textarea v-model=\"jsonInput\" placeholder=\"Entrez le JSON du menu ici\"></textarea>\n    \n    <button @click=\"loadMenu\">Charger le menu</button>\n    \n    \n    <!-- Affiche les éléments du menu -->\n    <div v-for=\"(item, index) in getMenuItems()\" :key=\"index\">\n      <component\n        :is=\"getComponentName(item)\"\n        :label=\"item.label\"\n        :permission=\"item.permission\"\n        :link=\"item.link\"\n      />\n    </div>\n\n    <!-- Bouton pour afficher les éléments cachés -->\n    <button @click=\"toggleHiddenItems\" v-if=\"hiddenItems.length > 0 && !showHiddenItems\">Other</button>\n\n    <!-- Section pour les éléments cachés -->\n    <div v-if=\"showHiddenItems\">\n  <component\n    v-for=\"(item, index) in hiddenItems\"\n    :key=\"index\"\n    :is=\"getComponentName(item)\"\n    :label=\"item.label\"\n    :permission=\"item.permission\"\n    :link=\"item.link\"\n  />\n</div>\n\n    <!-- Affiche le composant dynamique en fonction du nom spécifié dans le JSON -->\n    <component :is=\"dynamicComponent\" v-if=\"dynamicComponent\" />\n  </div>\n</template>\n\n<script>\nimport nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\n\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem,\n  },\n  data() {\n    return {\n      articleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null,\n    };\n  },\n  methods: {\n    loadMenu() {\n  try {\n    const parsedJson = JSON.parse(this.jsonInput);\n    this.menuItems = parsedJson.menuItems.map(item => ({ ...item, type: 'menuItem' }));\n\n    // Filter out items that are already in menuItems\n    this.hiddenItems = parsedJson.hiddenItems.filter(item => !this.menuItems.some(menuItem => menuItem.label === item.label))\n      .map(item => ({ ...item, type: 'hiddenItem' }));\n\n    this.showHiddenItems = false;\n\n  } catch (error) {\n    console.error(\"Erreur lors du chargement du JSON :\", error);\n  }\n},\n\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n  const combinedItems = [...this.menuItems, ...this.hiddenItems];\n  return this.showHiddenItems ? combinedItems : this.menuItems;\n},\n\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel,\n      };\n      return componentMap[item.component] || null;\n    },\n  },\n};\n</script>\n\n<style>\nimg{\n  width: 10%;\n  height: auto;\n}\nbody{\n  background-color: gray;\n}\n</style>"],"mappings":"AA0CA,OAAOA,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,eAAc,MAAO,mCAAmC;AAC/D,OAAOC,YAAW,MAAO,+BAA+B;AACxD,OAAOC,aAAY,MAAO,gCAAgC;AAC1D,OAAOC,aAAY,MAAO,gCAAgC;AAC1D,OAAOC,aAAY,MAAO,gCAAgC;AAE1D,eAAe;EACbC,UAAU,EAAE;IACVN,eAAe;IACfC,eAAe;IACfC,YAAY;IACZC,aAAa;IACbC,aAAa;IACbC;EACF,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,CAAC;MACfC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,eAAe,EAAE,KAAK;MACtBC,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACb,IAAI;QACF,MAAMC,UAAS,GAAIC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACT,SAAS,CAAC;QAC7C,IAAI,CAACC,SAAQ,GAAIM,UAAU,CAACN,SAAS,CAACS,GAAG,CAACC,IAAG,KAAM;UAAE,GAAGA,IAAI;UAAEC,IAAI,EAAE;QAAW,CAAC,CAAC,CAAC;;QAElF;QACA,IAAI,CAACV,WAAU,GAAIK,UAAU,CAACL,WAAW,CAACW,MAAM,CAACF,IAAG,IAAK,CAAC,IAAI,CAACV,SAAS,CAACa,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,KAAI,KAAML,IAAI,CAACK,KAAK,CAAC,EACrHN,GAAG,CAACC,IAAG,KAAM;UAAE,GAAGA,IAAI;UAAEC,IAAI,EAAE;QAAa,CAAC,CAAC,CAAC;QAEjD,IAAI,CAACT,eAAc,GAAI,KAAK;MAE9B,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D;IACF,CAAC;IAEGE,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAAChB,eAAc,GAAI,CAAC,IAAI,CAACA,eAAe;IAC9C,CAAC;IACDiB,YAAYA,CAAA,EAAG;MACjB,MAAMC,aAAY,GAAI,CAAC,GAAG,IAAI,CAACpB,SAAS,EAAE,GAAG,IAAI,CAACC,WAAW,CAAC;MAC9D,OAAO,IAAI,CAACC,eAAc,GAAIkB,aAAY,GAAI,IAAI,CAACpB,SAAS;IAC9D,CAAC;IAEGqB,gBAAgBA,CAACX,IAAI,EAAE;MACrB;MACA,MAAMY,YAAW,GAAI;QACnB9B,YAAY;QACZC,aAAa;QACbF,eAAe;QACfG,aAAa;QACbC,aAAa;QACbL;MACF,CAAC;MACD,OAAOgC,YAAY,CAACZ,IAAI,CAACa,SAAS,KAAK,IAAI;IAC7C;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}