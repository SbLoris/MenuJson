{"ast":null,"code":"import nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem\n  },\n  data() {\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null\n    };\n  },\n  methods: {\n    loadMenu() {\n      try {\n        const parsedJson = JSON.parse(this.jsonInput);\n        this.hiddenItems = parsedJson.hiddenItems.map(item => ({\n          ...item,\n          type: \"hiddenItem\",\n          isHidden: item.isHidden || false\n        }));\n        this.menuItems = parsedJson.menuItems.map(item => ({\n          ...item,\n          type: \"menuItem\"\n        }));\n        this.showHiddenItems = false;\n      } catch (error) {\n        console.error(\"Erreur lors du chargement du JSON :\", error);\n      }\n    },\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n      const combinedItems = [...this.menuItems, ...this.hiddenItems];\n      console.log(combinedItems);\n      return this.showHiddenItems ? combinedItems : this.menuItems;\n    },\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    showToastOnLinkOpen(label, permission) {\n      if (label, permission) {\n        this.showToast(label, permission);\n      } else {\n        console.error('Invalid item object:');\n      }\n    },\n    showToast(label) {\n      const toastElement = document.createElement(\"div\");\n      toastElement.className = \"toast animate-fadein fixed flex items-center w-full max-w-xs p-4 space-x-4 text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-200 rounded-lg shadow top-5 right-5 dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800\";\n      toastElement.textContent = `Ouverture de la page ${label}`;\n      document.getElementById(\"toast-container\").appendChild(toastElement);\n      setTimeout(() => {\n        toastElement.remove();\n      }, 5000);\n    },\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel\n      };\n      return componentMap[item.component] || null;\n    }\n  }\n};","map":{"version":3,"names":["nbArticlesLabel","nbArticlesField","homeMenuItem","page1MenuItem","page4MenuItem","page5MenuItem","components","data","dynamicArticleCount","jsonInput","menuItems","hiddenItems","showHiddenItems","dynamicComponent","methods","loadMenu","parsedJson","JSON","parse","map","item","type","isHidden","error","console","toggleHiddenItems","getMenuItems","combinedItems","log","updateArticleCount","value","showToastOnLinkOpen","label","permission","showToast","toastElement","document","createElement","className","textContent","getElementById","appendChild","setTimeout","remove","getComponentName","componentMap","component"],"sources":["C:\\Users\\Loris\\Desktop\\Cours\\MMIInformatique\\ProjetExercice\\projet-menu\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"h-screen bg-sky-100\">\n    <div id=\"toast-container\">\n\n     \n    </div> \n    <div class=\"menu-whole h-5/6 flex  \">\n      <div class=\"field-loader w-1/2 h-full flex flex-col   bg-white  m-4 p-1 lg:m-12 lg:p-4 shadow-xl\">\n     \n        <textarea  v-model=\"jsonInput\" placeholder=\"Entrez le JSON du menu ici\" class=\"block p-2.5 h-full w-full  text-xs lg:text-xl\"></textarea>\n        <button class=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\"  @click=\"loadMenu\">Charger le menu</button>\n      </div>\n      <div class=\"menu-loaded w-1/2 h-full text-gray-900 bg-blue-500 rounded shadow-xl m-4 p-1 lg:m-12 lg:p-4 \" >\n        <a href=\"#\" class=\"relative inline-block text-lg group bg-blue-500 absolute top-1/4\" @click.prevent=\"toggleHiddenItems\" v-if=\"hiddenItems.length > 0\"><span class=\"relative z-10 block px-5 py-3 overflow-hidden font-medium leading-tight text-gray-800 transition-colors duration-300 ease-out border-2 border-gray-900 rounded-lg group-hover:text-white\">\n          <span class=\"absolute inset-0 w-full h-full px-5 py-3 rounded-lg bg-gray-50\"></span>\n          <span class=\"absolute left-0 w-48 h-48 -ml-2 transition-all duration-300 origin-top-right -rotate-90 -translate-x-full translate-y-12 bg-gray-900 group-hover:-rotate-180 ease\"></span>\n          <span class=\"relative\">Others</span>\n          </span>\n          <span class=\"absolute bottom-0 right-0 w-full h-12 -mb-1 -mr-1 transition-all duration-200 ease-linear bg-gray-900 rounded-lg group-hover:mb-0 group-hover:mr-0\" data-rounded=\"rounded-lg\"></span>\n        </a>\n        <div :class=\"{ '': true, 'bg-blue-200 top-1/2 flex justify-center': item.type === 'hiddenItem' && !item.isHidden }\" v-for=\"(item, index) in getMenuItems()\" :key=\"index\">\n          <component\n            :is=\"getComponentName(item)\"\n            :label=\"item.label\"\n            :permission=\"item.permission\"\n            :link=\"item.link\"\n            :articleCount=\"item.component === 'nbArticlesLabel' ? dynamicArticleCount : undefined\"\n            @updateArticleCount=\"updateArticleCount\"\n            @showToastOnLinkOpen=\"showToastOnLinkOpen\"\n          />\n        </div>\n       \n       \n        <component :is=\"dynamicComponent\" v-if=\"dynamicComponent\" />\n      </div>\n    </div>\n    \n  </div>\n</template>\n\n\n<script>\nimport nbArticlesLabel from \"@/components/nbArticlesLabel.vue\";\nimport nbArticlesField from \"@/components/nbArticlesFields.vue\";\nimport homeMenuItem from \"@/components/homeMenuItem.vue\";\nimport page1MenuItem from \"@/components/page1MenuItem.vue\";\nimport page4MenuItem from \"@/components/page4MenuItem.vue\";\nimport page5MenuItem from \"@/components/page5MenuItem.vue\";\n\nexport default {\n  components: {\n    nbArticlesLabel,\n    nbArticlesField,\n    homeMenuItem,\n    page1MenuItem,\n    page4MenuItem,\n    page5MenuItem,\n  },\n  data() {\n    return {\n      dynamicArticleCount: 0,\n      jsonInput: \"\",\n      menuItems: [],\n      hiddenItems: [],\n      showHiddenItems: false,\n      dynamicComponent: null,\n    };\n  },\n  methods: {\n    loadMenu() {\n  try {\n    const parsedJson = JSON.parse(this.jsonInput);\n    this.hiddenItems = parsedJson.hiddenItems.map((item) => ({ ...item, type: \"hiddenItem\", isHidden: item.isHidden || false }));\nthis.menuItems = parsedJson.menuItems.map((item) => ({ ...item, type: \"menuItem\" }));\n    this.showHiddenItems = false;\n    \n   \n\n  } catch (error) {\n    console.error(\"Erreur lors du chargement du JSON :\", error);\n  }\n},\n    toggleHiddenItems() {\n      this.showHiddenItems = !this.showHiddenItems;\n    },\n    getMenuItems() {\n  const combinedItems = [...this.menuItems, ...this.hiddenItems];\n  console.log(combinedItems);\n  return this.showHiddenItems ? combinedItems : this.menuItems;\n},\n\n    updateArticleCount(value) {\n      this.dynamicArticleCount = value;\n    },\n    showToastOnLinkOpen(label, permission) {\n  if (label, permission) {\n    this.showToast(label, permission);\n  } else {\n    console.error('Invalid item object:');\n  }\n},\n\nshowToast(label) {\n \n    \n \n  const toastElement = document.createElement(\"div\");\n  toastElement.className = \"toast animate-fadein fixed flex items-center w-full max-w-xs p-4 space-x-4 text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-200 rounded-lg shadow top-5 right-5 dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800\";\n  toastElement.textContent = `Ouverture de la page ${label}`;\n  \n  \n\n\n\n  document.getElementById(\"toast-container\").appendChild(toastElement);\n\n\n  setTimeout(() => {\n    toastElement.remove();\n  }, 5000);\n  \n},\n    getComponentName(item) {\n      // Mapping entre les composants et leurs noms\n      const componentMap = {\n        homeMenuItem,\n        page1MenuItem,\n        nbArticlesField,\n        page4MenuItem,\n        page5MenuItem,\n        nbArticlesLabel,\n      };\n      return componentMap[item.component] || null;\n    },\n  },\n};\n\n</script>\n\n\n\n<style lang=\"css\">\n  @import '@/assets/styles/tailwind.css';\n  \n</style>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}